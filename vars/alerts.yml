---
prometheus_alert_rules:
  - alert: AccountTCPCheck
    for: 30s
    expr: "probe_success{job='tcpcheck', service='account'} == 0"
    labels:
      severity: low
      service: account
      host: "{% raw %}{{ $labels.host }}{% endraw %}"
      instance: "{% raw %}{{ $labels.instance }}{% endraw %}"
    annotations:
      message: "{% raw %}Account << LABEL INSTANCE >> on {{ $labels.host }}: TCP check failed{% endraw %}"
  - alert: AccountScoreCheck
    for: 30s
    expr: "netdata_openio_score__average == 0"
    labels:
      severity: low
      service: account
      host: "{% raw %}{{ $labels.host }}{% endraw %}"
      instance: "{% raw %}{{ $labels.instance }}{% endraw %}"
    annotations:
      message: "{% raw %}Account << LABEL INSTANCE >> on {{ $labels.host }}: Score is 0{% endraw %}"
  - alert: AccountHealthCheck
    for: 30s
    expr: "probe_success{job='account'} == 0"
    labels:
      severity: low
      service: account
      host: "{% raw %}{{ $labels.host }}{% endraw %}"
      instance: "{% raw %}{{ $labels.instance }}{% endraw %}"
    annotations:
      message: "{% raw %}Account {{ $labels.instance }} on {{ $labels.host }}: Health check failed{% endraw %}"
...
